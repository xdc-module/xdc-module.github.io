/*coolie built*/
define("0",["1","2","3"],function(i,t,e){var n=i("1"),a=i("2"),o=i("3");n.initialize();a.init();o.initialize();a.init({cont_node:$("#activityMode"),url_modes:"js/getActiveData.json",url_htm:"js/getModesHtmData.json"})});
define("1",[],function(i,t,e){"use strict";var o={initialize:function(){var i=this;window.onresize=i._setHeight();i._beautify();i._setHeight();i._uEditor()},_beautify:function(){$("[data-toggle='tooltip']").tooltip();$("#picWrapper .con-left-bd-main-box li").hover(function(){$(this).find(".img-mask").css("display","table")},function(){$(this).find(".img-mask").css("display","none")});$("#pane1").niceScroll({cursorcolor:"#ccc",cursoropacitymax:1,touchbehavior:!1,cursorwidth:"5px",cursorborder:"0",cursorborderradius:"5px",autohidemode:!1});$("#pickaColor").pickAColor({showSpectrum:!0,showSavedColors:!0,saveColorsPerElement:!0,fadeMenuToggle:!0,showAdvanced:!0,showBasicColors:!0,showHexInput:!0,allowBlank:!0,inlineDropdown:!0})},_setHeight:function(){var i=$(window).height(),t=$(".header").height(),e=$(".footer").height(),o=i-t-e;$("#container").height(o-10);$(".con-left-nav").height($("#container").height()-20);$("#picWrapper").height($("#container").height()-$(".con-left-bd-main-nav").outerHeight(!0));$("#pane1").height($("#container").height());$(".con-right").height($("#container").height())},_ueditHeight:function(){return $("#container").height()-127},_uEditor:function(){var i=this;UE.getEditor("rightContent",{autoHeightEnabled:!1,autoFloatEnabled:!0,initialFrameWidth:"100%",initialFrameHeight:i._ueditHeight()})}};e.exports=o});
define("2",[],function(t,e,i){"use strict";var s={init:function(t){var e=this,i={cont_node:$("#defalutMode"),url_modes:"js/getModesData.json",url_htm:"js/getHtmData.json",url_html_mode:"js/getModeHtmData.json"},s=$.extend(i,t);$.ajax({type:"get",url:s.url_modes,dataType:"json",success:function(t){e.buidModes(s,t.modes);e.buidMask(s,t.modes)}})},buidModes:function(t,e){var i=this,s=i.buidLisHtml(t,e),d='<ul class="con-left-bd-main-box clearfix">'+s+"</ul>";t.cont_node.html(d)},buidLisHtml:function(t,e){var i,s=this,d="";for(i=0;i<e.length;i++)d+=s.getLiHtml(e[i]);return d},getLiHtml:function(t){var e='<li data-modeId="'+t.mode_id+'" data-modeName="'+t.mode_name+'"><div class="img-box"><img src="'+t.mode_img+'" /></div></li>';return e},buidMask:function(t,e){var i=this,s='<div class="img-mask"><div class="img-mask-box"><h3 class="img-mask-name"></h3><i class="fa fa-file-text-o icon_edit" data-toggle="tooltip" data-placement="bottom" title="插入编辑器"></i></div></div>';$("#defalutMode>ul>li,#activityMode>ul>li").hover(function(){var t=$(this).attr("data-modeName"),e=$(this);e.append(s);e.find(".img-mask-name").text(t)},function(){$(this).find(".img-mask").remove()});t.cont_node.find("ul.con-left-bd-main-box").on("click",".icon_edit",function(e){var s=$(this).parents("li").attr("data-modeId");i.insertToUedit(t,s)})},insertToUedit:function(t,e){$.ajax({type:"get",url:t.url_html_mode,data:{mode_id:e},dataType:"json",success:function(t){var i,s,d,o,a,n,l=document.getElementById("ueditor_0").contentWindow.document,c=t.modes;for(i=0;i<c.length;i++){s=c[i];d=s.mode_id;o=s.code;a=s.src;n=s.css;if(e==d){UE.utils.loadFile(l,{tag:"link",rel:"stylesheet",type:"text/css",href:"http://feddd.me/yht/modes/mode1_header/css/reset.css"});UE.utils.loadFile(l,{tag:"link",rel:"stylesheet",type:"text/css",href:n},function(){console.log("css,加载成功")});UE.utils.loadFile(l,{src:"http://feddd.me/yht/activity1/js/jquery.js",tag:"script",type:"text/javascript",defer:"defer"});UE.utils.loadFile(l,{src:a,tag:"script",type:"text/javascript",defer:"defer"},function(){console.log("JS,加载成功")});UE.getEditor("rightContent").execCommand("insertHtml",o)}}}})}};i.exports=s});
define("3",[],function(t,n,i){"use strict";var e={initialize:function(){var t=this;t._btn()},_btn:function(){$("#preview-btn").click(function(){console.info("test");console.info(UE.getEditor("rightContent").getAllHtml())})}};i.exports=e});